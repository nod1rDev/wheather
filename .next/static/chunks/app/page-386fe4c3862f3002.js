(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1785:(e,t,s)=>{"use strict";s.d(t,{MainPage:()=>q});var a=s(5155),l=s(2115),r=s(2960),i=s(2900),n=s(4516),d=s(4992),c=s(8691),x=s(7574),o=s(9946);let m=(0,o.A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),g=(0,o.A)("Sunrise",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]),h=(0,o.A)("Sunset",[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]);var u=s(9074);let p=(0,o.A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var y=s(8667),b=s(3674),f=s(9375),w=s(8822);let j=(0,o.A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var v=s(4416),N=s(9852),k=s(7168);function P(e){let{onSearch:t,isLoading:s}=e,[r,d]=(0,l.useState)("");return(0,a.jsx)(i.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full",children:(0,a.jsx)("form",{onSubmit:e=>{e.preventDefault(),r.trim()&&t(r.trim())},className:"relative",children:(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-sky-400 to-blue-500 rounded-xl lg:rounded-2xl blur opacity-25 group-hover:opacity-40 transition duration-300"}),(0,a.jsx)("div",{className:"relative bg-white dark:bg-gray-800 rounded-xl lg:rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"pl-4 lg:pl-6",children:(0,a.jsx)(j,{className:"text-gray-400 w-5 h-5 lg:w-6 lg:h-6"})}),(0,a.jsx)(N.p,{type:"text",placeholder:"Search for any city worldwide...",value:r,onChange:e=>d(e.target.value),className:"flex-1 border-0 bg-transparent text-base lg:text-lg py-4 lg:py-6 px-3 lg:px-4 focus:ring-0 focus:outline-none placeholder:text-gray-400 placeholder:text-sm lg:placeholder:text-base",disabled:s}),r&&(0,a.jsx)(i.P.button,{type:"button",onClick:()=>{d("")},className:"p-2 text-gray-400 hover:text-gray-600 transition-colors touch-manipulation",whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,a.jsx)(v.A,{className:"w-4 h-4 lg:w-5 lg:h-5"})}),(0,a.jsx)("div",{className:"pr-2",children:(0,a.jsx)(k.$,{type:"submit",disabled:!r.trim()||s,className:"bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 text-white px-4 lg:px-8 py-2.5 lg:py-3 rounded-lg lg:rounded-xl font-medium shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 text-sm lg:text-base touch-manipulation",children:s?(0,a.jsx)(i.P.div,{animate:{rotate:360},transition:{duration:1,repeat:Number.POSITIVE_INFINITY,ease:"linear"},className:"w-4 h-4 lg:w-5 lg:h-5 border-2 border-white border-t-transparent rounded-full"}):(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(n.A,{className:"w-3 h-3 lg:w-4 lg:h-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Search"})]})})})]})})]})})})}var S=s(5529),A=s(1773),M=s(3805);function q(){let[e,t]=(0,l.useState)(""),[s]=(0,b.M)("defaultCity","London"),{latitude:o,longitude:j,error:v,loading:N}=function(){let[e,t]=(0,l.useState)({latitude:null,longitude:null,error:null,loading:!0});return(0,l.useEffect)(()=>{if(!navigator.geolocation){t(e=>({...e,error:"Geolocation is not supported by this browser.",loading:!1}));return}navigator.geolocation.getCurrentPosition(e=>{t({latitude:e.coords.latitude,longitude:e.coords.longitude,error:null,loading:!1})},e=>{t(t=>({...t,error:e.message,loading:!1}))})},[]),e}(),k=e||s,q=!e&&!v&&o&&j,{data:C,isLoading:H,error:I,refetch:_}=(0,r.I)({queryKey:["weather",q?"".concat(o,",").concat(j):k],queryFn:()=>q?y.j.getCurrentWeatherByCoords(o,j):y.j.getCurrentWeather(k),enabled:!N&&(q||!!k),retry:1}),{data:z}=(0,r.I)({queryKey:["forecast",k],queryFn:()=>y.j.getForecast(k),enabled:!!C}),F=H||N,E=null==z?void 0:z.list.filter((e,t)=>t%8==0).slice(1,4).map(e=>({date:e.dt,temp:e.main.temp,weather:e.weather[0]}));return(0,a.jsxs)("div",{className:"flex min-h-screen",children:[(0,a.jsx)(f.B,{}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col lg:ml-0",children:[(0,a.jsxs)("main",{className:"flex-1 p-4 sm:p-6 lg:p-8 pt-16 lg:pt-8 overflow-auto",children:[(0,a.jsx)(i.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-6 lg:mb-8",children:(0,a.jsxs)("div",{className:"flex flex-col space-y-4 lg:space-y-0 lg:flex-row lg:items-center lg:justify-between lg:gap-8 mb-6 lg:mb-8",children:[(0,a.jsxs)("div",{className:"flex-shrink-0",children:[(0,a.jsx)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-bold text-gray-900 dark:text-white mb-2",children:"Weather Dashboard"}),(0,a.jsx)("p",{className:"text-sm sm:text-base lg:text-lg text-gray-600 dark:text-gray-400",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),(0,a.jsx)("div",{className:"w-full lg:w-96 xl:w-[28rem] flex-shrink-0",children:(0,a.jsx)(P,{onSearch:e=>{t(e)},isLoading:F})})]})}),F?(0,a.jsxs)("div",{className:"flex flex-col justify-center items-center h-64 sm:h-80 lg:h-96",children:[(0,a.jsx)(S.k,{size:"lg"}),(0,a.jsx)("p",{className:"mt-4 text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Getting weather data..."})]}):I?(0,a.jsx)(A.K,{message:I instanceof Error?I.message:"Failed to fetch weather data",onRetry:()=>_()}):C?(0,a.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 lg:gap-8",children:[(0,a.jsx)(i.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},className:"xl:col-span-2",children:(0,a.jsxs)("div",{className:"bg-gradient-to-br from-sky-400 via-sky-500 to-blue-600 rounded-2xl lg:rounded-3xl p-6 sm:p-8 text-white shadow-2xl relative overflow-hidden min-h-[400px] sm:min-h-[450px] lg:min-h-[500px]",children:[(0,a.jsxs)("div",{className:"absolute inset-0 opacity-10",children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 w-32 sm:w-40 lg:w-48 h-32 sm:h-40 lg:h-48 bg-white rounded-full -translate-x-16 sm:-translate-x-20 lg:-translate-x-24 -translate-y-16 sm:-translate-y-20 lg:-translate-y-24"}),(0,a.jsx)("div",{className:"absolute bottom-0 right-0 w-40 sm:w-52 lg:w-64 h-40 sm:h-52 lg:h-64 bg-white rounded-full translate-x-20 sm:translate-x-26 lg:translate-x-32 translate-y-20 sm:translate-y-26 lg:translate-y-32"})]}),(0,a.jsxs)("div",{className:"relative z-10 h-full flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-6 lg:mb-8",children:[(0,a.jsx)(n.A,{className:"w-5 h-5 lg:w-6 lg:h-6 flex-shrink-0"}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsxs)("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold truncate",children:[C.name,", ",C.sys.country]}),(0,a.jsx)("p",{className:"text-white/80 text-sm sm:text-base",children:(0,M.fU)(C.dt)})]})]}),(0,a.jsxs)("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-2 gap-6 lg:gap-8 items-center",children:[(0,a.jsxs)("div",{className:"order-2 sm:order-1",children:[(0,a.jsx)("div",{className:"text-5xl sm:text-6xl lg:text-7xl xl:text-8xl font-bold mb-2 lg:mb-4 leading-none",children:(0,M.cH)(C.main.temp)}),(0,a.jsx)("div",{className:"text-lg sm:text-xl lg:text-2xl mb-2 capitalize font-medium",children:(0,M.ND)(C.weather[0].description)}),(0,a.jsxs)("div",{className:"text-base sm:text-lg lg:text-xl text-white/90 mb-2",children:["Feels like"," ",(0,M.cH)(C.main.feels_like)]}),(0,a.jsxs)("div",{className:"text-sm sm:text-base lg:text-lg text-white/80",children:["H: ",(0,M.cH)(C.main.temp_max)," L:"," ",(0,M.cH)(C.main.temp_min)]})]}),(0,a.jsx)("div",{className:"order-1 sm:order-2 text-center sm:text-right",children:(0,a.jsx)("img",{src:(0,M.w1)(C.weather[0].icon)||"/placeholder.svg",alt:C.weather[0].description,className:"w-24 h-24 sm:w-28 sm:h-28 lg:w-32 lg:h-32 xl:w-40 xl:h-40 mx-auto sm:ml-auto drop-shadow-lg"})})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 lg:gap-4 mt-6 lg:mt-8",children:[{icon:d.A,label:"Pressure",value:"".concat(C.main.pressure," hPa")},{icon:c.A,label:"Humidity",value:"".concat(C.main.humidity,"%")},{icon:x.A,label:"Wind",value:"".concat(C.wind.speed," m/s")},{icon:m,label:"Visibility",value:"".concat((C.visibility/1e3).toFixed(1)," km")}].map((e,t)=>(0,a.jsxs)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2+.1*t,duration:.4},className:"bg-white/15 backdrop-blur-sm rounded-xl lg:rounded-2xl p-3 lg:p-4 text-center",children:[(0,a.jsx)(e.icon,{className:"w-5 h-5 lg:w-6 lg:h-6 mx-auto mb-1 lg:mb-2"}),(0,a.jsx)("div",{className:"text-xs opacity-80 mb-1",children:e.label}),(0,a.jsx)("div",{className:"text-xs sm:text-sm font-semibold",children:e.value})]},e.label))})]})]})}),(0,a.jsxs)("div",{className:"space-y-4 lg:space-y-6",children:[(0,a.jsxs)(i.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3,duration:.5},className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl rounded-xl lg:rounded-2xl p-4 lg:p-6 shadow-lg",children:[(0,a.jsx)("h3",{className:"text-base lg:text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Sun Times"}),(0,a.jsxs)("div",{className:"space-y-3 lg:space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"p-2 bg-gradient-to-r from-orange-400 to-yellow-400 rounded-lg flex-shrink-0",children:(0,a.jsx)(g,{className:"w-4 h-4 text-white"})}),(0,a.jsx)("span",{className:"text-sm lg:text-base text-gray-600 dark:text-gray-400",children:"Sunrise"})]}),(0,a.jsx)("span",{className:"text-sm lg:text-base font-semibold text-gray-900 dark:text-white",children:(0,M.fU)(C.sys.sunrise)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"p-2 bg-gradient-to-r from-orange-500 to-red-500 rounded-lg flex-shrink-0",children:(0,a.jsx)(h,{className:"w-4 h-4 text-white"})}),(0,a.jsx)("span",{className:"text-sm lg:text-base text-gray-600 dark:text-gray-400",children:"Sunset"})]}),(0,a.jsx)("span",{className:"text-sm lg:text-base font-semibold text-gray-900 dark:text-white",children:(0,M.fU)(C.sys.sunset)})]})]})]}),E&&(0,a.jsxs)(i.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4,duration:.5},className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl rounded-xl lg:rounded-2xl p-4 lg:p-6 shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,a.jsx)(u.A,{className:"w-4 h-4 lg:w-5 lg:h-5 text-gray-600 dark:text-gray-400 flex-shrink-0"}),(0,a.jsx)("h3",{className:"text-base lg:text-lg font-semibold text-gray-900 dark:text-white",children:"3-Day Forecast"})]}),(0,a.jsx)("div",{className:"space-y-3",children:E.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:[(0,a.jsx)("img",{src:(0,M.w1)(e.weather.icon)||"/placeholder.svg",alt:e.weather.description,className:"w-6 h-6 lg:w-8 lg:h-8 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-xs lg:text-sm text-gray-600 dark:text-gray-400 truncate",children:(0,M.Yq)(e.date).split(",")[0]})]}),(0,a.jsx)("span",{className:"text-sm lg:text-base font-semibold text-gray-900 dark:text-white flex-shrink-0",children:(0,M.cH)(e.temp)})]},e.date))})]}),(0,a.jsxs)(i.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5,duration:.5},className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl rounded-xl lg:rounded-2xl p-4 lg:p-6 shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,a.jsx)(p,{className:"w-4 h-4 lg:w-5 lg:h-5 text-gray-600 dark:text-gray-400 flex-shrink-0"}),(0,a.jsx)("h3",{className:"text-base lg:text-lg font-semibold text-gray-900 dark:text-white",children:"Weather Index"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-xs lg:text-sm text-gray-600 dark:text-gray-400",children:"UV Index"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-12 lg:w-16 h-2 bg-gray-200 dark:bg-gray-700 rounded-full",children:(0,a.jsx)("div",{className:"w-1/3 h-full bg-green-500 rounded-full"})}),(0,a.jsx)("span",{className:"text-xs lg:text-sm font-medium text-gray-900 dark:text-white",children:"Low"})]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-xs lg:text-sm text-gray-600 dark:text-gray-400",children:"Air Quality"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-12 lg:w-16 h-2 bg-gray-200 dark:bg-gray-700 rounded-full",children:(0,a.jsx)("div",{className:"w-4/5 h-full bg-yellow-500 rounded-full"})}),(0,a.jsx)("span",{className:"text-xs lg:text-sm font-medium text-gray-900 dark:text-white",children:"Good"})]})]})]})]})]})]}):null]}),(0,a.jsx)(w.V,{})]})]})}},4516:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},7579:(e,t,s)=>{Promise.resolve().then(s.bind(s,1785))},9852:(e,t,s)=>{"use strict";s.d(t,{p:()=>i});var a=s(5155),l=s(2115),r=s(3999);let i=l.forwardRef((e,t)=>{let{className:s,type:l,...i}=e;return(0,a.jsx)("input",{type:l,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...i})});i.displayName="Input"}},e=>{var t=t=>e(e.s=t);e.O(0,[204,617,967,25,989,441,684,358],()=>t(7579)),_N_E=e.O()}]);