(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[678],{212:(e,t,s)=>{"use strict";s.d(t,{ForecastPage:()=>b});var a=s(5155),r=s(2960),l=s(2900),i=s(9074),d=s(8691),x=s(7574),n=s(4992),c=s(2970),m=s(8667),o=s(3674),g=s(9375),h=s(8822),p=s(5529),u=s(1773),y=s(3805);function b(){let[e]=(0,o.M)("defaultCity","London"),{data:t,isLoading:s,error:b,refetch:j}=(0,r.I)({queryKey:["forecast",e],queryFn:()=>m.j.getForecast(e),retry:1}),f=Object.entries((null==t?void 0:t.list.reduce((e,t)=>{let s=new Date(1e3*t.dt).toDateString();return e[s]||(e[s]=[]),e[s].push(t),e},{}))||{}).map(e=>{let[t,s]=e,a=s.find(e=>{let t=new Date(1e3*e.dt).getHours();return t>=11&&t<=13})||s[Math.floor(s.length/2)],r=s.map(e=>e.main.temp),l=Math.min(...r),i=Math.max(...r);return{date:new Date(t),timestamp:a.dt,weather:a.weather[0],temp:a.main.temp,minTemp:l,maxTemp:i,humidity:a.main.humidity,windSpeed:a.wind.speed,pressure:a.main.pressure,items:s}}).slice(0,7);return(0,a.jsxs)("div",{className:"flex min-h-screen",children:[(0,a.jsx)(g.B,{}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col lg:ml-0",children:[(0,a.jsxs)("main",{className:"flex-1 p-4 sm:p-6 lg:p-8 pt-16 lg:pt-8 overflow-auto",children:[(0,a.jsx)(l.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-6 lg:mb-8",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3 lg:space-x-4 mb-4 lg:mb-6",children:[(0,a.jsx)("div",{className:"p-2.5 lg:p-3 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl lg:rounded-2xl shadow-lg flex-shrink-0",children:(0,a.jsx)(i.A,{className:"w-6 h-6 lg:w-8 lg:h-8 text-white"})}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-bold text-gray-900 dark:text-white truncate",children:"7-Day Forecast"}),(0,a.jsxs)("p",{className:"text-sm sm:text-base lg:text-lg text-gray-600 dark:text-gray-400 truncate",children:[null==t?void 0:t.city.name,", ",null==t?void 0:t.city.country]})]})]})}),s?(0,a.jsxs)("div",{className:"flex flex-col justify-center items-center h-64 sm:h-80 lg:h-96",children:[(0,a.jsx)(p.k,{size:"lg"}),(0,a.jsx)("p",{className:"mt-4 text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Loading forecast data..."})]}):b?(0,a.jsx)(u.K,{message:b instanceof Error?b.message:"Failed to fetch forecast data",onRetry:()=>j()}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-4 lg:gap-6",children:f.map((e,t)=>(0,a.jsx)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*t},whileHover:{scale:1.02,y:-4},className:"group",children:(0,a.jsxs)("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl rounded-2xl lg:rounded-3xl p-4 lg:p-6 shadow-xl border border-white/20 dark:border-gray-700/20 hover:shadow-2xl transition-all duration-300 h-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4 lg:mb-6",children:[(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("h3",{className:"text-lg lg:text-xl font-bold text-gray-900 dark:text-white truncate",children:(0,y.Yq)(e.timestamp)}),(0,a.jsx)("p",{className:"text-sm lg:text-base text-gray-600 dark:text-gray-400 capitalize truncate",children:(0,y.ND)(e.weather.description)})]}),(0,a.jsxs)(l.P.div,{whileHover:{rotate:5,scale:1.1},className:"relative flex-shrink-0",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-sky-400 to-blue-500 rounded-xl lg:rounded-2xl blur opacity-20 group-hover:opacity-40 transition-opacity duration-300"}),(0,a.jsx)("div",{className:"relative bg-gradient-to-br from-sky-100 to-blue-100 dark:from-sky-900/30 dark:to-blue-900/30 p-2.5 lg:p-3 rounded-xl lg:rounded-2xl",children:(0,a.jsx)("img",{src:(0,y.w1)(e.weather.icon)||"/placeholder.svg",alt:e.weather.description,className:"w-10 h-10 lg:w-12 lg:h-12"})})]})]}),(0,a.jsxs)("div",{className:"text-center mb-4 lg:mb-6",children:[(0,a.jsx)("div",{className:"text-3xl lg:text-4xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 dark:from-white dark:to-gray-200 bg-clip-text text-transparent mb-2",children:(0,y.cH)(e.temp)}),(0,a.jsxs)("div",{className:"text-sm lg:text-base text-gray-500 dark:text-gray-400",children:[(0,y.cH)(e.minTemp)," / ",(0,y.cH)(e.maxTemp)]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 lg:gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg lg:rounded-xl p-2.5 lg:p-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,a.jsx)(d.A,{className:"w-3 h-3 lg:w-4 lg:h-4 text-blue-500 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-xs lg:text-sm text-gray-600 dark:text-gray-400 truncate",children:"Humidity"})]}),(0,a.jsxs)("div",{className:"text-sm lg:text-base font-bold text-gray-900 dark:text-white",children:[e.humidity,"%"]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg lg:rounded-xl p-2.5 lg:p-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,a.jsx)(x.A,{className:"w-3 h-3 lg:w-4 lg:h-4 text-green-500 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-xs lg:text-sm text-gray-600 dark:text-gray-400 truncate",children:"Wind"})]}),(0,a.jsxs)("div",{className:"text-sm lg:text-base font-bold text-gray-900 dark:text-white",children:[e.windSpeed," m/s"]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-lg lg:rounded-xl p-2.5 lg:p-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,a.jsx)(n.A,{className:"w-3 h-3 lg:w-4 lg:h-4 text-purple-500 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-xs lg:text-sm text-gray-600 dark:text-gray-400 truncate",children:"Pressure"})]}),(0,a.jsxs)("div",{className:"text-sm lg:text-base font-bold text-gray-900 dark:text-white",children:[e.pressure," hPa"]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 dark:from-orange-900/20 dark:to-yellow-900/20 rounded-lg lg:rounded-xl p-2.5 lg:p-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,a.jsx)(c.A,{className:"w-3 h-3 lg:w-4 lg:h-4 text-orange-500 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-xs lg:text-sm text-gray-600 dark:text-gray-400 truncate",children:"Condition"})]}),(0,a.jsx)("div",{className:"text-xs lg:text-sm font-bold text-gray-900 dark:text-white truncate",children:e.weather.main})]})]}),(0,a.jsx)("div",{className:"pt-3 lg:pt-4 border-t border-gray-200/50 dark:border-gray-700/50",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Hourly"}),(0,a.jsx)("div",{className:"flex space-x-1 lg:space-x-2",children:e.items.slice(0,4).map((e,t)=>(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-xs text-gray-400 mb-1",children:[new Date(1e3*e.dt).getHours(),":00"]}),(0,a.jsxs)("div",{className:"text-xs font-medium text-gray-900 dark:text-white",children:[Math.round(e.main.temp),"\xb0"]})]},t))})]})})]})},e.timestamp))})]}),(0,a.jsx)(h.V,{})]})]})}},3387:(e,t,s)=>{Promise.resolve().then(s.bind(s,212))}},e=>{var t=t=>e(e.s=t);e.O(0,[204,617,967,25,989,441,684,358],()=>t(3387)),_N_E=e.O()}]);